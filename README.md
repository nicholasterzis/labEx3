# labEx3
McPAT and GEM5 study
# Βήμα 1

## Ερώτημα 1

Όπως βλέουμε στο αντίστοιχο paper, η επικύρωση του McPAT έγινε με την σύγκριση των αποτελεσμάτων του με πραγματικά δεδομένα από διάφορους επεξεργαστές και πιο συγκεκριμένα τους Niagara (90nm), Niagara2 (65nm), Xeon (65nm) και Alpha (180nm). Καθώς πρόκειται για επεξεργαστές με διαφορετικά χαρακτηριστικά σε συχνότητα, κατανάλωση ηλεκτρικού ρεύματος, δυνατότητα παραλληλισμού και multithreading καθώς και διαφορές στον τρόπο εκτέλεσης εντολών (σειριακά ή με διαφορετική σειρά εκτέλεσης από την προκαθορισμένη), γίνεται μια πιο ολοκληρωμένη έρευνα που επικυρώνει την αξιοπιστία του συστήματος προσομοίωσης για διαφορετικά μοντέλα αλλά και διαφορετικές γενιές μονάδων επεξεργασίας.


## Ερώτημα 2

Η κάθε μία από αυτές τις ενδείξεις αναφέρεται στην δαπανούμενη ισχύ μίας από τις κατηγορίες που εμφανίζονται σε κυκλώματα CMOS. Αρχικά η δυναμική κατανάλωση ισχύος εκφράζει την ενέργεια που καταναλώνεται κατά την φόρτιση και εκφόρτιση των χωρητικοτήτων των τρανζίστορ που συμβαίνουν κατά την αλλαγή της κατάστασής τους. Οι παράγοντες από τους οποίους εξαρτάται είναι το μέγεθος των χωρητικοτήτων, η τάση λειτουργίας των τρανζίστορ, η εναλλαγή τάσης κατά την αλλαγή καταστάσεων η συχνότητα του ρολογιού και η συχνότητα αλλαγής καταστάσεων του τρανζίστορ. Η κατανάλωση ισχύος βραχυκυκλώματος εκφράζει την ενέργεια που καταναλώνεται κατά την εναλλαγή καταστάσεων των τρανζίστορ ελέγχου ενός κυκλώματος (πχ ενός μετατροπέα DC σε AC) όπου δημιουργείται ένα στιγμιαίο βραχυκύκλωμα κατά το οποίο η τροφοδοσία είναι άμεσα συνδεδεμένη με τη γείωση. Η κατανάλωση ισχύος λόγω διαρροών ρεύματος εκφράζει την ενέργεια που καταναλώνεται εξαιτίας των διαρροοών που εμφανίζονται στην πύλη των CMOS, στο υπόστρωμα καθώς και στο ρεύμα διαρροής ανάμεσα στην πηγή και την εκροή κατά τη λειτουργία του CMOS στην κατάσταση off. Το μοντέλο χρησιμοποιεί τεχνικές εξοικονόμησης ενέργειας για την καλύτερη προσέγγιση λειτουργίας σύγχρονων συστημάτων που εφαρμόζουν τέτοιους μηχανισμούς. Συγκεκριμένα, χρησιμοποιεί την τεχνική clock gating (αποκοπή του σήματος ρολογιού από ορισμένα τμήματα του κυκλώματος για την πλήρη απενεργοπίησή τους όταν δεν χρησιμοποιούνται) για τη δυναμική κατανάλωση ισχύος και ορισμένα sleep states για τη μείωση της στατικής κατανάλωσης ισχύος. Διαφορετικά προγράμματα επιτρέπουν την εφαρμογή τέτοιων τεχνικών σε διαφορετικά επίπεδα άρα περιμένουμε να δούμε μεταβολλή στην καταναλισκόμενη ισχύ ανάλογα με το πρόγραμμα που εκτελείται. Τέλος, σε ότι αφορά τον χρόνο εκτέλεσης, εφόσον ένα πρόγραμμα έχει παρόμοιες απαιτήσεις κατά τα διαφορετικά στάδια εκτέλεσής του, η διάρκεια εκτέλεσης, αν και με την αύξησή της αυξάνει το συνολικό ενεργειακό κόστος, δεν θα έπρεπε να οδηγεί σε σημαντικές μεταβολές στην κατανάλωση ισχύος.


## Ερώτημα 3

Ως αποδοτικότητα ενέργειας θα ορίζαμε την καταναλισκόμενη ενέργεια για την εκτέλεση ενός συγκεκριμένου προγράμματος και συνεπώς δεν φτάνει μόνο η πληροφορία σχετικά με την καναλισκόμενη ισχύ. Έχοντας δύο επεξεργαστές με κατανάλωση ισχύος 25W και 35W αντίστοιχα, θα έπρεπε να γνωρίζουμε τον χρόνο εκτέλεσης ενός προγράμματος για να βγάλουμε αποτελέσματα σχετικά με το ποιος είναι ο πιο αποδοτικός καθώς E = Pt όπου Ε η συνολική ενέργεια, P η ισχύς και t ο χρόνος εκτέλεσης που δεν μας δίνεται από το McPAT. Έτσι θα μπορούσαμε για χρόνους εκτέλεσης 10s και 5s αντίστοιχα να έχουμε 25 * 10 = 250J για τον πρώτο και 35 * 5 = 175J για τον δεύτερο επεξεργαστή σε ότι αφορά κατανάλωση ενέργειας βγάζοντας έτσι το συμπέρασμα πως παρά την μεγαλύτερη ισχύ λειτουργίας, ο δεύτερος επεξεργαστής έχει μικρότερο ενεργειακό κόστος για την εκτέλεσση του ίδιου προγράμματος. Η ταχύτητα εκτέλεσης θα μπορούσε να υπολογιστεί από το μέσο CPI των δύο επεξεργαστών κατά την εκτέλεση του προγράμματος σε συνδυασμό με τη συχνότητα του ρολογιού του κάθε επεξεργαστή, κάτι το οποίο θα μας επέτρεπε να βγάλουμε συμπεράσματα σχετικά με την αποδοτικότητα του καθενός ως το πηλίκο της ταχύτητας αυτής προς την καταναλισκόμενη ισχύ. Ένας καλός μετρητής ενεργειακής αποδοτικότητας λοιπόν θα ήταν ο λόγος της συχνότητας του ρολογιού προς το γινόμενο CPI και κατανάλωσης ισχύος που μας δίνει τον αριθμό instructions per Joule ή καλύτερα instructions per watt-second ή αλλιώς σε FLOPS per watt.


## Ερώτημα 4

Αρχικά βέπουμε τα αποτελέσματα που μας δίνει το McPAT για τους δύο επεξεργαστές στο αρχείο [XEON - ARM A9 stats.txt](https://github.com/nicholasterzis/labEx3/files/7888512/XEON.-.ARM.A9.stats.txt). Παρατηρούμε πως η στατική κατανάλωση ισχύος του επξεργαστή XEON λόγω ρευμάτων διαρροής είναι μεγαλύτερη από την peak κατανάλωση ισχύος του ARM A9 που σημαίνει πως ακόμα και σε αδρανή κατάσταση ο XEON καταναλώνει περισσότερη ενέργεια στη μονάδα του χρόνου απ'ότι ο ARM A9 όταν βρίσκεται σε μια κανονική κατάσταση λειτουργίας. Έτσι, ακόμα και μετά την εκτέλεση του προγράμματος, εφόσον το σύστημα δεν απενεργοποιείται, ο XEON συνεχίζει να απαιτεί περισσότερη ενέργεια από τον ARM A9 κάτι που προφανώς και τον καθιστά λιγότερο αποτελεσματικό σε ότι αφορά την ενεργειακή απόδοση άσχετα από τη διάρκεια εκτέλεσης κάποιου προγράμματος.

# Βήμα 2


# Βιβλιογραφία

https://www.hpl.hp.com/research/mcpat/micro09.pdf
https://www.quora.com/What-is-the-activity-factor-which-is-related-to-power-dissipation-in-CMOS-1
https://asic-soc.blogspot.com/2008/04/short-circuit-power.html
https://www.sciencedirect.com/topics/computer-science/dynamic-power-dissipation
https://en.wikipedia.org/wiki/Clock_gating
https://www.hpl.hp.com/research/mcpat/McPATAlpha_TechRep.pdf

